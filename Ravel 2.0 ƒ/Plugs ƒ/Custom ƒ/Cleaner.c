/*•••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••	Copyright © 1996-1997 Cyril Moorzin		При использовании исходных текстов SDK указание Copyright © 1996-1997 Cyril Moorzin		обязательно.		Так же при генерации писем обязательно упоминание название пакета Ravel в tearline.				Ravel SDK поставляется в виде "as is". Автор не несет ответственности за		несовместимость Plug-Ins в будущих версиях RavelSHUFFLER при использовании		undewater приемов программирования.				Не существует НИКАКОЙ документации по Ravel SDK.		Так же автор пока отказался от распространения исходных текстов не только работы		с базой сообщений, но и старых релизов RavelQUILL.  •••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••*/#include <Sound.h>#include <string.h>//#include <stdio.h>#include <A4Stuff.h>#include "ravel_msg_base.h"#include "Prefs.h"#include "PascalStr.h"#include "PlugIns.h"char	*invokers[] = {"BEEP", "PEEPS", NULL};void main (PlugsControlPtr plugcontrol){	long		res;	short		ownFile, oldRes, i;	Handle		h;	EnterCodeResource ();	pktmsg		*m;	DateTimeRec	dtr;	char		stemp[128];	switch (plugcontrol->opCode)	{	case plugWelcome:		//	StartUp call of plug-ins. We make order and init. prefs.				plugcontrol->putlog ('=', "<Custom> Installed.");		res = plugCustomLaunch | plugCustomNames;		break;		case plugCustomNames:			plugcontrol->misc.names.plugInvokeNames = invokers;		res = plugRetContinue;		break;		case plugCustomLaunch:	//	We ordered only one call - CLEANER						if (!strcmp (invokers[0], plugcontrol->misc.plugInvokeName))		{			SysBeep (10);			res = plugRetNoError;		}		else			if (!strcmp (invokers[1], plugcontrol->misc.plugInvokeName))			{				SysBeep (10);				SysBeep (10);				res = plugRetNoError;			}			else				res = plugRetWrongCustom;//		this chain of shuffler's calls make CLEANER//		plugcontrol->_Purge ();//		plugcontrol->_Pack ();//		plugcontrol->_Link ();		break;		default:				//	We're ignoring all other opCodes							//	(by the way, it's impossible unordered calls)			res = plugRetContinue;		break;	}		plugcontrol->retCode = res;		ExitCodeResource ();	}